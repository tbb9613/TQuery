<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Graph Demo</title>
  <!-- <link rel="stylesheet" type="text/css" href="style.css"> -->
  <script src="https://unpkg.com/smoothscroll-polyfill@0.4.4/dist/smoothscroll.min.js"></script>
  <script src="https://d3js.org/d3.v5.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin="" />
  <link rel="stylesheet" href="https://unpkg.com/purecss@1.0.1/build/pure-min.css"
    integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47" crossorigin="anonymous">
  <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin=""></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  <script src="https://kit.fontawesome.com/9c1ae4a15d.js" crossorigin="anonymous"></script>
  <script src="/static/laydate/laydate.js"></script>
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/mdui/0.4.3/css/mdui.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/mdui/0.4.3/js/mdui.min.js"></script>


  <style>
    html,
    body {
      font-family: Arial, Helvetica, sans-serif;
      height: 100%;
      padding: 0;
      margin: 0;
      /* display: inline; */
    }

    body {
      overflow: hidden;
      -moz-user-select: none;
      -webkit-user-select: none;
      -ms-user-select: none;
      -khtml-user-select: none;
      user-select: none;
    }

    button {
      outline: none;
    }

    #mainContainer {
      width: 100%;
      height: 100%;
      padding: 0;
      margin: 0;
      box-sizing: border-box;

      /* position: relative; */
    }

    #leftContainer {
      width: 70%;
      height: 100%;
      padding: 0;
      float: left;
    }

    #rightContainer {
      width: 30%;
      height: 100%;
      padding: 0;
      float: left;
      background-color: slategray;
    }

    #topContainer {
      width: 100%;
      height: 30%;
    }

    #workContainer {
      width: 100%;
      height: 70%;

    }

    #mapContainer {
      height: 30%;
      width: 100%;
      /* display: inline; */
    }

    #staContainer {
      height: 70%;
      width: 100%;
      overflow-y: auto;
      overflow-x: visible;
      /* display: inline; */
    }

    .node {
      stroke: #fff;
      stroke-width: 2px;
      fill: slategray;
    }

    .link {
      stroke: #999;
    }

    .stacard {
      background-color: #999;
    }

    .tooltip {
      position: absolute;
      text-align: center;
      padding: .5rem;
      background: #FFFFFF;
      color: #313639;
      border: 1px solid #313639;
      border-radius: 2px;
      pointer-events: none;
      /* font-size: 1rem; */
      font-size: 14px;
      z-index: 2;
    }

    .tooltip-handle {
      position: absolute;
      text-align: center;
      font-size: 12px;
      color: #fff;
      background-color: #0C0537;
      padding: 5px;
    }

    .hide {
      display: none !important;
    }

    .disable-select {
      -webkit-user-select: none;
      -moz-user-select: none;
      -ms-user-select: none;
      user-select: none;
    }



    .icon {
      width: 30px;
      height: 30px;
      margin: 0;
      padding: 0;
    }

    .heatmap-button {
      position: absolute;
      bottom: 5%;
      right: 35%;
      padding: 5px;

      opacity: 0.7;
      cursor: pointer;
      background-color: transparent;
      border: none;
      /* transition: background-color .3s; */
    }

    .heatmap-button:hover {
      opacity: 1;
      transition: ease-in-out .2s;
      /* background-color: white; */
    }

    .heatmap-button-active {
      opacity: .8;
      /* background-color: #CCC; */
      /* background-color: #999; */
    }

    .heatmap-container {
      position: absolute;
      width: 40px;
      height: 40px;
      bottom: 5%;
      right: 35%;
      transition: .3s;
      /* transition: all 0.3s; */
    }

    .heatmap-container-active {
      background-color: #1E1841;
      position: absolute;
      /* padding: 2%; */
      margin: 0;
      width: 40%;
      height: 60%;
      opacity: 1;
    }


    .heatmap-axis line {
      stroke: white;
    }

    .heatmap-axis path {
      stroke: none;
    }

    .heatmap-axis text {
      fill: white;
      font-size: 13px;
    }

    .timeselector-axis path {
      stroke: none;
    }

    .timeselector-axis line {
      stroke: #999;
    }

    .timeselector-axis text {
      fill: #484848;
    }

    .handle-custom {
      cursor: ew-resize;
    }

    #staTab {
      position: fixed;
      right: 30%;
      top: 30%;
      width: 2.5%;
      height: 6%;
      background-color: #fff;
      margin: 0;
      align-items: center;
    }

    .sta-button {
      display: inline-block;
      width: 100%;
      height: 100%;
      border: none;
      background-color: #CCC;
      font-size: 1em;
      color: white;
    }

    .sta-button-active {
      background-color: slategray;
    }

    .add-graph {
      position: absolute;
      top: 31%;
      right: 38%;
      border: none;
      color: white;
      padding: 10px;
      text-align: center;
      background-color: gray;
      display: inline-block;
      /* transition: ease-in-out .3s; */
    }

    .add-graph:hover {
      background-color: darkgrey;
      box-shadow: aliceblue;
    }

    #step-before {
      position: absolute;
      top: 37%;
      left: 10%;
    }

    #step-after {
      position: absolute;
      top: 37%;
      left: 50%;
    }

    button,
    .after-controller,
    .before-controller,
    .brush-menu {
      cursor: pointer;
    }

    .topnodes {
      cursor: grab;
      fill: #393261;
    }

    .dragging-node {
      cursor: grabbing;
    }

    .after-controller,
    .before-controller {
      text-anchor: middle;
      alignment-baseline: middle;
    }

    .brush-menu {
      /* position: absolute; */
      z-index: 2;
      background-color: rgb(104, 104, 104);
      color: #fff;
      border: none;
      border-radius: 10px;
      font-size: 12px;
      padding: 10px;
      display: block;
    }

    .brush-menu:active {
      background-color: #0C0537;
    }


    #topNodesTab {
      position: absolute;
      top: 12%;
      width: 50%;
      height: 40px;
      left: 35px;
      /* background-color: #0C0537; */
    }

    .toptab {
      height: 100%;
      outline: none;
      width: 10%;
      margin: 0;
      padding-bottom: 3px;
      float: left;
      color: #444444;
      background-color: transparent;
      border: #CCC 0.5px solid;
      /* border-radius: 5px; */
      font-size: 13px;
    }

    .toptab-custom {
      padding: 0;
      height: 40px;
      outline: none;
      width: 40px;
      padding: 10px;
      border: #CCC .5px solid;
      background-color: transparent;
    }

    .toptab-custom:hover {
      background-color: #fff;
    }


    .toptab-custom svg {
      height: 100%;
      width: 100%;
    }

    .toptab:hover {
      background-color: white;
      color: #3C2E93;
    }

    .toptab-active {
      background-color: white;
      /* background-opacity: .1; */
      border: #4F4688 0.1px solid;
      color: #0C0537;
      padding: 0;
      border-bottom: #4F4688 4px solid;
      font-weight: 600;
    }

    .toptab-active:hover {
      background-color: white;
      color: #0C0537;
    }

    .noclick {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: black;
      opacity: .3;
      z-index: 1001;
    }

    .nodelist-edit-container {
      top: 15%;
      left: 20%;
      background-color: white;
      position: absolute;
      /* padding: 2%; */
      margin: 0;
      width: 30%;
      max-height: 60%;
      opacity: 1;
      z-index: 1002;
      box-shadow: 0px 0px 15px #666666;
      border-radius: 3px;
      padding: 2.5%;
      overflow: auto;
    }

    .nodelist-input {
      margin-top: 1%;
      padding: 0 2.5%;
      width: 95%;
      height: 40px;
      border-radius: 5px;
      border: #CCC 1px solid;
      font-size: 20px;
    }

    .nodelist-table {
      width: 100%;
      font-size: 14px;
    }

    .nodelist-table thead {
      background-color: #3C2E93;
      color: #fff;
      /* border: none; */
    }

    .add-node-list {
      margin: 20px 0;
      /* background-color: #eeeeee; */
      border: #CCC 1px solid;
      color: #3C2E93;
    }

    /* .add-node-list:hover {
      margin: 20px 0;
      background-color: #3C2E93;
      color: white;
    } */




    .nodelist-edit {
      display: inline-block;
      width: 100%;
      color: #444444;
      font-size: 14px;
    }

    .button-close {
      float: right;
      border: none;
      background-color: transparent;
    }


    #toolsContainer {
      position: absolute;
      left:60%;
      top:20%;
      width: 8%;
      padding: 0;
    }

    .multi-nodes, .draw-undirected-line, .draw-directed-line, .select-mode{
      outline: none;
      /* background-color: #0C0537; */
      background-color: gray;
      color: #fff;
      border: none;
      margin-bottom: 3%;
      padding: 2%;
    }

    .multi-nodes {
      width: 97%;
    }


    .draw-undirected-line, .draw-directed-line {
      width: 30%;
    }

    .multi-nodes-active, .tool-active {
      background-color: #4F4688;
    }

    .select-mode {
      width: 30%;
    }


    .select-mode-active {
      background-color: #4F4688;
    }

    .selected {
      fill: #999 !important;
      stroke: black !important;
    }

    .node-multi {
      cursor:default;
    }

    .con-rect{
      /* stroke: #393261; */
      stroke-width: 3;
      /* fill: transparent; */
      fill:white;
    }

    .build-query-btn {
      position: absolute;
      left: 31%;
      top: 90%;
      width: 8%;
      height: 6%;
      outline: none;
      border: none;
      background-color: #4F4688;
      
      color: white;
    }

    .build-query-btn:active{
      background-color: #655AAF;
    }

    #timeSelectorDropdown {
      position: absolute;
      left: 54%;
      top: 2%;
      width: 10%;
    }

    #calendar {
      margin-top: 5px;
      width: 80%;
      border-radius: 2px;
      font-size: 14px;
      height: 24px;
      color:#666666;

    }

    .mdui-select{
      font-size: 14px;
      padding-bottom: 0;
      height: 24px;
    }



    .this-route{
      stroke:#4F4688;
      fill: #655AAF;
      stroke-width: 2;
    }

    .not-this-route{
      opacity: .3;
    }

  </style>
</head>

<body class="mdui-theme-accent-deep-purple">
  <div id="mainContainer">
    <svg id="globalDrag"></svg>
    <div class="noclick hide">
    </div>
    <div id="leftContainer">

      <!-- <svg id="brushLayer"></svg> -->
      
      <button class="add-graph"><i class="fas fa-columns"></i></button>

      <div id="topContainer">
        <div id="timeSelectorDropdown">
          <select class = "mdui-select" mdui-select="options" name="timePeriod" id="timePeriod">
            <option value="total">Total</option>
            <option value="year">Year</option>
            <option value="month">Month</option>
            <option value="week">Week</option>
            <option value="day">Day</option>
          </select>
          <select class = "mdui-select" mdui-select="options" name="data" id="dataType">
            <option value="TTV">TTV</option>
            <option value="ATV">ATV</option>
          </select>
          <!-- <input type="text" id = "calendar" placeholder="Choose date"> -->
        </div>
        <div id="topNodesTab">
          <button class="toptab">Industry</button>
          <button class="toptab toptab-active">MCC</button>
          <button class="toptab">Location</button>
          <button class="toptab">Customize1</button>
          <button class="toptab">Customize2</button>
          <button class="toptab">Customize3</button>
          <!-- <button class="toptab">...</button> -->
          <button class="toptab-custom">
            <svg t="1588090942694" class="icon" viewBox="0 0 1026 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
              p-id="2525" width="200" height="200">
              <path
                d="M307.933767 709.191401l55.608246-121.906912 70.215853 67.788777-125.824099 54.118135z m95.818675-171.645022l366.409348-352.874171 82.001279 80.116062-365.732025 352.095249-82.678602-79.33714z m550.042994-370.90226l-50.505744 48.372175-81.854525-80.116062 49.704244-47.593254c8.003704-7.958549 23.435387-6.513593 32.150281 2.144858l48.281866 46.182162c5.147657 5.03477 8.071436 11.559652 8.071436 18.039379 0.011289 5.046059-2.201301 9.36964-5.847558 12.970742zM313.792614 530.299019c-0.745056 0.767633-1.467534 1.478823-2.21259 2.889913L259.640613 717.217683c-2.923779 10.78073 0 22.340381 8.071436 30.310219 6.581325 5.779826 14.607607 9.290618 23.390233 9.290619 2.935068 0 5.113791-0.699901 8.03757-1.399802l190.147239-49.749399h0.79021a8.048859 8.048859 0 0 0 5.791115-2.178724l507.721574-489.208069c15.28493-14.40441 23.356366-33.888744 23.356367-55.551803 0-24.519105-10.927483-49.03821-29.215214-67.077588l-48.281865-46.182163c-19.010208-18.039378-43.935707-28.853974-69.572396-28.853974-22.577445 0-43.145497 7.935972-57.707948 23.074149L314.503803 528.109007c-0.71119 0.699901-0.71119 1.478823-0.711189 2.190012zM100.932466 0C45.358086 0 0 44.70334 0 99.555242V923.530372c0 54.806747 45.358086 99.555242 100.932466 99.555241h806.082505c55.57438 0 100.864734-44.748495 100.864734-99.555241V397.543645h-86.290994v451.729511c0 49.049498-40.221718 87.939147-89.214772 87.939147H175.539632c-49.004344 0-89.214772-38.889648-89.214773-87.939147V173.157711c0-48.338309 40.210429-88.040745 89.214773-88.040745h457.904443V0H100.932466z"
                p-id="2526" fill="#4F4688"></path>
            </svg>
          </button>
        </div>
        <div id="toolsContainer">
          <button class="multi-nodes">Multi</button>
          <button class="draw-undirected-line"><i class="fas fa-minus"></i></button>
          <button class="draw-directed-line"><i class="fas fa-arrow-right"></i></button>
          <button class="select-mode"><i class="fas fa-object-group"></i></button>
        </div>
      </div>
      <div id="workContainer">
        <svg id="drawLayer"></svg>
        <svg id="brushLayer"></svg>
      </div>
      
      <div class="nodelist-edit-container hide">
        <button class="button-close">
          <i class="fas fa-times"></i>
        </button>

        <h3>Node List</h3>
        <div>
          <table class="pure-table pure-table-horizontal nodelist-table">
            <thead>
              <tr>
                <th>#</th>
                <th>Name</th>
                <th> </th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>1</td>
                <td>Customize1</td>
                <td style="text-align: right;"><a href="#">Edit</a> <a href="#">Delete</a></td>
              </tr>

              <tr>
                <td>2</td>
                <td>Customize2</td>
                <td style="text-align: right;"><a href="#">Edit</a> <a href="#">Delete</a></td>
              </tr>

              <tr>
                <td>3</td>
                <td>Customize3</td>
                <td style="text-align: right;"><a href="#">Edit</a> <a href="#">Delete</a></td>
              </tr>
            </tbody>
          </table>
          <button class="mdui-btn mdui-ripple add-node-list">Add new</button>
        </div>


        <div class="nodelist-edit hide">
          
          <span>SEARCH BY</span>
          <select class = "mdui-select" mdui-select="options">
            <option value="name">Merchant Name</option>
            <option value="MCC">MCC</option>
          </select>
          
          <input class="nodelist-input">
          <button class="mdui-btn mdui-ripple add-node-list">SEARCH</button>
        </div>


      </div>
      <div class="heatmap-container"></div>
      <button class="heatmap-button">
        <svg t="1588091530679" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg"
          p-id="4713" width="200" height="200">
          <path
            d="M891.264 85.333333C917.44 85.333333 938.666667 106.56 938.666667 132.736v758.528A47.402667 47.402667 0 0 1 891.264 938.666667H132.736A47.402667 47.402667 0 0 1 85.333333 891.264V132.736C85.333333 106.56 106.56 85.333333 132.736 85.333333h758.528zM597.333333 682.666667h-170.666666v170.666666h170.666666v-170.666666z m-256 0H170.666667v170.666666h170.666666v-170.666666z m256-256h-170.666666v170.666666h170.666666v-170.666666z m-256 0H170.666667v170.666666h170.666666v-170.666666z m512 0h-170.666666v170.666666h170.666666v-170.666666zM597.333333 170.666667h-170.666666v170.666666h170.666666V170.666667zM341.333333 170.666667H170.666667v170.666666h170.666666V170.666667z m512 0h-170.666666v170.666666h170.666666V170.666667z"
            p-id="4714" fill="#4F4688"></path>
        </svg>
      </button>
    </div>
    <!-- <button class="heatmap-button"> -->



    <div id="rightContainer">

      <div id="mapContainer"></div>
      <div id="staTab" class="hide">
        <button id="G" class="sta-button sta-button-active">G</button>
        <button id="S" class="sta-button">S</button>
        <button id="C" class="sta-button">C</button>
      </div>
      <div id="staContainer">
      </div>

    </div>
  </div>
  <!-- <script src="{{ url_for('static',filename='laydate/laydate.js') }}"></script> -->
  <!-- <script src="{{ url_for('static',filename='js/Graph0.js') }}"></script> -->
  <script src="/static/js/Graph0.js"></script>

</body>